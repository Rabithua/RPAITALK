<!--index.wxml-->
<view class="container" style="{{ btnDisable ? 'border-color: #07c160' : ''}}">
  <scroll-view scroll-y scroll-with-animation scroll-into-view="{{chatSroll}}" class="talks">
    <view class="help" id="help">
      <view class="helpHeader">
        <text class="helpTitle">RPTALK</text>
        <view class="logo"></view>
      </view>
      <view class="content">
        <view style="margin-bottom: 30rpx;"> 一个基于 OPENAI API 制作的微信小程序，来感受一下目前最“聪明”的对话AI吧~ </view>
        <view> 简单的对话小命令： </view>
        <view> /clear - 清除对话 </view>
        <view> /help - 查看使用帮助 </view>
        <view style="margin-top: 30rpx;"> 支持三句对话上下文（包含ai和人类） </view>

      </view>
    </view>
    <view class="talk" bindlongpress="copy" data-content="{{ talk.content }}" data-type="{{ talk.role }}" wx:for="{{talks}}" wx:for-index="idx" wx:key="idx" wx:for-item="talk" id="{{'chat' + idx}}"><div style="white-space: pre-line;">{{ talk.content }}</div><text class="issueFix" bindtap="issueFixTip" wx:if="{{ talk.issueFix }}">{{ talk.issueFix }}</text></view>
    <view wx:if="{{ btnDisable }}" class="talk shine" data-type="assistant">思考中...</view>
    <view style="width: 100%; height: 10rpx;"></view>
  </scroll-view>
  <view class="footer">
    <input bindconfirm="submit" cursor-spacing="20" value="{{issue}}" bindinput="input" type="text" />
    <button type="primary" bindtap="submit" disabled="{{ btnDisable }}" size="mini">发送</button>
  </view>
</view>